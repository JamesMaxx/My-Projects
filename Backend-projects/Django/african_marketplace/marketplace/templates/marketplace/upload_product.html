{% extends 'marketplace/base.html' %}

{% block title %}Upload Product - African Heritage Marketplace{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header card-header-african">
                    <h3 class="mb-0">
                        <i class="bi bi-upload"></i> Share Your African Heritage
                    </h3>
                </div>
                <div class="card-body">
                    <p class="text-muted mb-4">
                        Share authentic African cultural products and help preserve our rich heritage. 
                        Each item tells a story of tradition, craftsmanship, and cultural significance.
                    </p>

                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        
                        <!-- Basic Information -->
                        <div class="card mb-4">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">Basic Product Information</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="{{ form.name.id_for_label }}" class="form-label">Product Name *</label>
                                        {{ form.name }}
                                        {% if form.name.errors %}
                                            <div class="text-danger small">{{ form.name.errors }}</div>
                                        {% endif %}
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="{{ form.price.id_for_label }}" class="form-label">Price (USD) *</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            {{ form.price }}
                                        </div>
                                        {% if form.price.errors %}
                                            <div class="text-danger small">{{ form.price.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="{{ form.category.id_for_label }}" class="form-label">Category *</label>
                                        {{ form.category }}
                                        {% if form.category.errors %}
                                            <div class="text-danger small">{{ form.category.errors }}</div>
                                        {% endif %}
                                        <div class="mt-2">
                                            <a href="{% url 'marketplace:add_category' %}" class="btn btn-outline-secondary btn-sm">
                                                <i class="bi bi-plus"></i> Add New Category
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="{{ form.stock_quantity.id_for_label }}" class="form-label">Stock Quantity</label>
                                        {{ form.stock_quantity }}
                                        {% if form.stock_quantity.errors %}
                                            <div class="text-danger small">{{ form.stock_quantity.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="{{ form.description.id_for_label }}" class="form-label">Description *</label>
                                    {{ form.description }}
                                    {% if form.description.errors %}
                                        <div class="text-danger small">{{ form.description.errors }}</div>
                                    {% endif %}
                                </div>
                                
                                <div class="mb-3">
                                    <label for="{{ form.image.id_for_label }}" class="form-label">Product Image</label>
                                    {{ form.image }}
                                    {% if form.image.errors %}
                                        <div class="text-danger small">{{ form.image.errors }}</div>
                                    {% endif %}
                                    <div class="form-text">Upload a clear, high-quality image of your product.</div>
                                </div>
                            </div>
                        </div>

                        <!-- African Cultural Heritage -->
                        <div class="card mb-4">
                            <div class="card-header" style="background-color: var(--african-gold); color: white;">
                                <h5 class="mb-0">
                                    <i class="bi bi-globe-africa"></i> African Cultural Heritage
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label for="{{ form.origin_tribe.id_for_label }}" class="form-label">Origin Tribe/Community</label>
                                    {{ form.origin_tribe }}
                                    {% if form.origin_tribe.errors %}
                                        <div class="text-danger small">{{ form.origin_tribe.errors }}</div>
                                    {% endif %}
                                    <div class="form-text">Specify the African tribe or community that originates this item.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="{{ form.cultural_meaning.id_for_label }}" class="form-label">Cultural Meaning & Significance</label>
                                    {{ form.cultural_meaning }}
                                    {% if form.cultural_meaning.errors %}
                                        <div class="text-danger small">{{ form.cultural_meaning.errors }}</div>
                                    {% endif %}
                                    <div class="form-text">Explain what this item represents in African culture and its spiritual or social significance.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="{{ form.traditional_use.id_for_label }}" class="form-label">Traditional Use</label>
                                    {{ form.traditional_use }}
                                    {% if form.traditional_use.errors %}
                                        <div class="text-danger small">{{ form.traditional_use.errors }}</div>
                                    {% endif %}
                                    <div class="form-text">Describe how this item is traditionally used in ceremonies, daily life, or special occasions.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="{{ form.materials_used.id_for_label }}" class="form-label">Traditional Materials</label>
                                    {{ form.materials_used }}
                                    {% if form.materials_used.errors %}
                                        <div class="text-danger small">{{ form.materials_used.errors }}</div>
                                    {% endif %}
                                    <div class="form-text">List the traditional materials and crafting techniques used to create this item.</div>
                                </div>
                            </div>
                        </div>

                        <!-- Product Settings -->
                        <div class="card mb-4">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">Product Settings</h5>
                            </div>
                            <div class="card-body">
                                <div class="form-check">
                                    {{ form.is_featured }}
                                    <label class="form-check-label" for="{{ form.is_featured.id_for_label }}">
                                        Featured Product
                                    </label>
                                    <div class="form-text">Featured products appear prominently on the homepage.</div>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Buttons -->
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <a href="{% url 'marketplace:home' %}" class="btn btn-outline-secondary me-md-2">
                                <i class="bi bi-arrow-left"></i> Cancel
                            </a>
                            <button type="submit" class="btn btn-african">
                                <i class="bi bi-upload"></i> Upload Product
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}